name: MÃY CHá»¦ PREMIUM Cá»¦A HEROGOODBOYVN

on:
  workflow_dispatch:
    inputs:
      run_hours:
        description: 'Chá»n thá»i gian cháº¡y (1-6 giá»)'
        required: true
        type: choice
        options: ['1', '2', '3', '4', '5', '6']
        default: '1'

jobs:
  premium-rdp:
    name: ğŸš€ MÃ¡y Chá»§ Premium HEROGOODBOYVN
    runs-on: windows-latest
    timeout-minutes: ${{ (inputs.run_hours || 1) * 60 }}

    steps:
      - name: ğŸš€ Khá»Ÿi Äá»™ng MÃ¡y Chá»§ Premium ğŸš€
        run: |
          Write-Host "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" -ForegroundColor Cyan
          Write-Host "â•‘   ğŸŒŸğŸ”¥ MÃY CHá»¦ PREMIUM CHÃNH CHá»¦ HEROGOODBOYVN ğŸ”¥ğŸŒŸ   â•‘" -ForegroundColor Magenta
          Write-Host "â•‘   â±ï¸  Thá»i gian chill: ${{ inputs.run_hours || 1 }} giá» siÃªu mÆ°á»£t   â•‘" -ForegroundColor Green
          Write-Host "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" -ForegroundColor Cyan

      - name: Táº£i Ngrok
        run: |
          Invoke-WebRequest https://bin.equinox.io/c/bNyj1mQVY4c/ngrok-v3-stable-windows-amd64.zip -OutFile ngrok.zip
          Expand-Archive ngrok.zip -DestinationPath .
          .\ngrok\ngrok.exe authtoken ${{ secrets.NGROK_AUTH_TOKEN }}

      - name: Báº­t RDP, Táº¡o User & Tá»‘i Æ¯u HoÃ n ToÃ n (KhÃ´ng Lag + Dá»n RÃ¡c)
        run: |
          Set-ItemProperty -Path 'HKLM:\System\CurrentControlSet\Control\Terminal Server' -Name "fDenyTSConnections" -Value 0
          Enable-NetFirewallRule -DisplayGroup "Remote Desktop"

          $user = "HEROGOODBOYVN"
          \( pass = " \){{ secrets.RDP_PASSWORD || 'Nguyen2009' }}"
          net user $user $pass /add
          net localgroup administrators $user /add
          net localgroup "Remote Desktop Users" $user /add

          powercfg -setactive SCHEME_MIN
          reg add "HKLM\SOFTWARE\Policies\Microsoft\Windows NT\Terminal Services" /v "MaxCompressionLevel" /t REG_DWORD /d 2 /f

          Remove-Item -Path "$env:TEMP\*" -Recurse -Force -ErrorAction SilentlyContinue
          Remove-Item -Path "C:\Windows\Temp\*" -Recurse -Force -ErrorAction SilentlyContinue
          Remove-Item -Path "C:\Windows\SoftwareDistribution\Download\*" -Recurse -Force -ErrorAction SilentlyContinue
          Clear-RecycleBin -Force -ErrorAction SilentlyContinue

          Write-Host "ğŸ‰ User + Tá»‘i Æ°u + Dá»n rÃ¡c hoÃ n táº¥t - MÃ¡y sáº¡ch sáº½, siÃªu mÆ°á»£t!" -ForegroundColor Green

      - name: ğŸ‰ Táº¡o Tunnel & ThÃ´ng Tin Káº¿t Ná»‘i Äáº¸P LUNG LINH ğŸ‰
        run: |
          Start-Process -FilePath ".\ngrok\ngrok.exe" -ArgumentList "tcp 3389 --log=stdout" -NoNewWindow
          Write-Host "ğŸ”¥ Äang táº¡o tunnel premium... Chá» 60 giÃ¢y nha boss! ğŸ”¥" -ForegroundColor Yellow
          Start-Sleep -Seconds 60

          $tunnel = Invoke-RestMethod http://localhost:4040/api/tunnels
          $host_port = ($tunnel.tunnels | Where-Object { $_.proto -eq "tcp" }).public_url -replace 'tcp://',''

          Write-Host ""
          Write-Host "ğŸŒŒâœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨ğŸŒŒ" -ForegroundColor Cyan
          Write-Host "   ğŸš€ğŸ”¥ MÃY CHá»¦ PREMIUM HEROGOODBOYVN ÄÃƒ Sáº´N SÃ€NG! ğŸ”¥ğŸš€   " -ForegroundColor Magenta
          Write-Host "   ğŸ‘‘ Chá»§ chÃ­nh chá»§: HEROGOODBOYVN - MÃ¡y sáº¡ch rÃ¡c, mÆ°á»£t max! ğŸ‘‘   " -ForegroundColor Yellow
          Write-Host "ğŸŒŒâœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨ğŸŒŒ" -ForegroundColor Cyan
          Write-Host ""

          Write-Host "    ğŸ®ğŸ‘‡ THÃ”NG TIN Káº¾T Ná»I PREMIUM SIÃŠU Äáº¸P ğŸ‘‡ğŸ®" -ForegroundColor Cyan
          Write-Host "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" -ForegroundColor White
          Write-Host "â•‘  ğŸ“ Address:      $host_port          â•‘" -ForegroundColor Yellow
          Write-Host "â•‘  ğŸ‘¤ Username:     HEROGOODBOYVN             â•‘" -ForegroundColor Yellow
          Write-Host "â•‘  ğŸ”‘ Password:     Nguyen2009                â•‘" -ForegroundColor Yellow
          Write-Host "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" -ForegroundColor White
          Write-Host ""

          Write-Host "ğŸ“± Connect ngay boss:" -ForegroundColor Cyan
          Write-Host "   â€¢ Má»Ÿ Microsoft Remote Desktop"
          Write-Host "   â€¢ DÃ¡n Address Ä‘áº§y Ä‘á»§ (cÃ³ port)"
          Write-Host "   â€¢ Login â†’ Nghe nháº¡c YouTube/Spotify mÆ°á»£t nhÆ° bay! ğŸ¶âœ¨"
          Write-Host ""

          Write-Host "ğŸ’ MÃ¡y Ä‘Ã£ dá»n sáº¡ch rÃ¡c + tá»‘i Æ°u RDP - KhÃ´ng lag, khÃ´ng crash!" -ForegroundColor Magenta
          Write-Host ""
          Write-Host "        ğŸ‰ CONNECT THÃ€NH CÃ”NG & CHILL MAX LEVEL BOSS Æ I! ğŸ‰" -ForegroundColor Magenta
          Write-Host "                   Powered by HEROGOODBOYVN Premium âœ¨ğŸš€"
          Write-Host ""

      - name: Giá»¯ mÃ¡y chá»§ sá»‘ng chill
        run: |
          Write-Host "ğŸ›¡ï¸ MÃ¡y chá»§ premium sáº¡ch sáº½ cháº¡y á»•n Ä‘á»‹nh ${{ inputs.run_hours || 1 }} giá»... VÃ o RDP chill Ä‘i boss! ğŸ›¡ï¸" -ForegroundColor Green
          Start-Sleep -Seconds ${{ (inputs.run_hours || 1) * 3600 }}
